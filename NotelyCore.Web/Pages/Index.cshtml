@page
@model IndexModel
@{
    ViewData["Title"] = "Notely Notes";
    var NoteCount = Model.Notes.Count() + 2;
}

@Html.AntiForgeryToken()

<link href="~/node_modules/jquery-confirm/dist/jquery-confirm.min.css" rel="stylesheet" />

<div class="container container-fluid">
    <a asp-page="./Notely/Edit" class="btn btn-primary">Add New</a>
    <hr />
    <div class="row">
        @foreach (var note in Model.Notes)
        {
            <div class="col-4">
                <partial name="./Notely/_NoteSummaryItem" model="note" />
            </div>
        }
    </div>
    <form method="post">
        <input type="hidden" name="NumberOfNotes" value="@NoteCount"  />
        <button type="submit" class="btn btn-success">Load More</button>
    </form>
</div>

@section Scripts
{
    <script src="~/js/main.js"></script>
    <script src="~/node_modules/jquery-confirm/dist/jquery-confirm.min.js"></script>
}